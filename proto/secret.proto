syntax = "proto3";
package secret;
option go_package = "/services/secrets-service/pb";

service SecretService {
  rpc GetSecret(GetSecretRequest) returns (GetSecretResponse);
  rpc GetUserSecret(GetUserSecretRequest) returns (GetUserSecretResponse);
  rpc SetUserSecret(SetUserSecretRequest) returns (SetUserSecretResponse);
}

message GetSecretRequest {
  string name = 1; // "openai.api_key"
}

message GetSecretResponse {
  string value = 1;
}

message GetUserSecretRequest {
  string user_id = 1;
  string secret_name = 2; // "openai.api_key"
}

message GetUserSecretResponse {
  string value = 1;
}

message SetUserSecretRequest {
  string user_id = 1;
  string secret_name = 2; // "openai.api_key"
  string secret_value = 3;
}

message SetUserSecretResponse {
  string status = 1;
}
